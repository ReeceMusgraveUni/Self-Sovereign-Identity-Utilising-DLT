{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_registriesAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "holderDID",
          "type": "string"
        }
      ],
      "name": "CredentialRequestRetrieved",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "schema",
          "type": "string"
        }
      ],
      "name": "addSchema",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "hashedCredential",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "did",
          "type": "string"
        }
      ],
      "name": "checkCredential",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "credentialRegistry",
      "outputs": [
        {
          "internalType": "string",
          "name": "merkleTreeRoot",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expiryDate",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "holderDID",
          "type": "string"
        }
      ],
      "name": "getCredentials",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "merkleTreeRoot",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "expiryDate",
              "type": "uint256"
            }
          ],
          "internalType": "struct CredentialRecord[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        }
      ],
      "name": "getSchema",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "holderDID",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "merkleTreeRoot",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        }
      ],
      "name": "issueCredential",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "registries",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "issuerDID",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "holderDID",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "schemaId",
          "type": "string"
        }
      ],
      "name": "requestCredential",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "issuerDID",
          "type": "string"
        }
      ],
      "name": "retrieveCredentialRequest",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "holderDID",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "schemaId",
              "type": "string"
            }
          ],
          "internalType": "struct CredentialRequest[]",
          "name": "openRequests",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "schemaRegistry",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "608060405234801562000010575f80fd5b5060405162001d5138038062001d51833981810160405281019062000036919062000140565b805f806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505062000170565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6200010a82620000df565b9050919050565b6200011c81620000fe565b811462000127575f80fd5b50565b5f815190506200013a8162000111565b92915050565b5f60208284031215620001585762000157620000db565b5b5f62000167848285016200012a565b91505092915050565b611bd3806200017e5f395ff3fe608060405234801561000f575f80fd5b506004361061009c575f3560e01c8063853eed6911610064578063853eed6914610157578063b829409014610187578063e309396b146101b7578063f1a03f1b146101d3578063f6b1a22b146102035761009c565b806320642801146100a0578063206eba5d146100d05780636f3a4e2c146100ee57806370f318ef1461010a5780637d728eef1461013b575b5f80fd5b6100ba60048036038101906100b59190610f80565b610233565b6040516100c79190611041565b60405180910390f35b6100d86102e6565b6040516100e591906110a0565b60405180910390f35b610108600480360381019061010391906110b9565b610309565b005b610124600480360381019061011f9190611190565b61049a565b6040516101329291906111f9565b60405180910390f35b61015560048036038101906101509190611227565b610572565b005b610171600480360381019061016c91906112af565b6105f5565b60405161017e919061133f565b60405180910390f35b6101a1600480360381019061019c9190610f80565b6107a2565b6040516101ae91906114be565b60405180910390f35b6101d160048036038101906101cc91906112af565b610b43565b005b6101ed60048036038101906101e89190610f80565b610bdf565b6040516101fa9190611041565b60405180910390f35b61021d60048036038101906102189190610f80565b610cf9565b60405161022a91906115e2565b60405180910390f35b6003818051602081018201805184825260208301602085012081835280955050505050505f9150905080546102679061162f565b80601f01602080910402602001604051908101604052809291908181526020018280546102939061162f565b80156102de5780601f106102b5576101008083540402835291602001916102de565b820191905f5260205f20905b8154815290600101906020018083116102c157829003601f168201915b505050505081565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bde1eee783336040518363ffffffff1660e01b815260040161036592919061165f565b602060405180830381865afa158015610380573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103a491906116b7565b6103e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103da90611752565b60405180910390fd5b5f604051806060016040528084815260200160011515815260200183815250905060048460405161041491906117aa565b908152602001604051809103902081908060018154018082558091505060019003905f5260205f2090600302015f909190919091505f820151815f01908161045c919061195d565b506020820151816001015f6101000a81548160ff0219169083151502179055506040820151816002019081610491919061195d565b50505050505050565b60028280516020810182018051848252602083016020850120818352809550505050505081815481106104cb575f80fd5b905f5260205f2090600202015f9150915050805f0180546104eb9061162f565b80601f01602080910402602001604051908101604052809291908181526020018280546105179061162f565b80156105625780601f1061053957610100808354040283529160200191610562565b820191905f5260205f20905b81548152906001019060200180831161054557829003601f168201915b5050505050908060010154905082565b5f604051806040016040528084815260200183815250905060028460405161059a91906117aa565b908152602001604051809103902081908060018154018082558091505060019003905f5260205f2090600202015f909190919091505f820151815f0190816105e2919061195d565b5060208201518160010155505050505050565b5f8060028360405161060791906117aa565b9081526020016040518091039020805480602002602001604051908101604052809291908181526020015f905b828210156106fd578382905f5260205f2090600202016040518060400160405290815f820180546106649061162f565b80601f01602080910402602001604051908101604052809291908181526020018280546106909061162f565b80156106db5780601f106106b2576101008083540402835291602001916106db565b820191905f5260205f20905b8154815290600101906020018083116106be57829003601f168201915b5050505050815260200160018201548152505081526020019060010190610634565b5050505090505f5b8151811015610796578460405160200161071f91906117aa565b6040516020818303038152906040528051906020012082828151811061074857610747611a2c565b5b60200260200101515f015160405160200161076391906117aa565b60405160208183030381529060405280519060200120036107895760019250505061079c565b8080600101915050610705565b505f9150505b92915050565b606060015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bde1eee783336040518363ffffffff1660e01b815260040161080092919061165f565b602060405180830381865afa15801561081b573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061083f91906116b7565b61087e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161087590611752565b60405180910390fd5b5f60048360405161088f91906117aa565b908152602001604051809103902090505f805b82805490508110156108fe578281815481106108c1576108c0611a2c565b5b905f5260205f2090600302016001015f9054906101000a900460ff16156108f15781806108ed90611a86565b9250505b80806001019150506108a2565b505f8167ffffffffffffffff81111561091a57610919610e5c565b5b60405190808252806020026020018201604052801561095357816020015b610940610e11565b8152602001906001900390816109385790505b5090505f805b8480549050811015610b365784818154811061097857610977611a2c565b5b905f5260205f2090600302016001015f9054906101000a900460ff1615610b29578481815481106109ac576109ab611a2c565b5b905f5260205f2090600302016040518060600160405290815f820180546109d29061162f565b80601f01602080910402602001604051908101604052809291908181526020018280546109fe9061162f565b8015610a495780601f10610a2057610100808354040283529160200191610a49565b820191905f5260205f20905b815481529060010190602001808311610a2c57829003601f168201915b50505050508152602001600182015f9054906101000a900460ff16151515158152602001600282018054610a7c9061162f565b80601f0160208091040260200160405190810160405280929190818152602001828054610aa89061162f565b8015610af35780601f10610aca57610100808354040283529160200191610af3565b820191905f5260205f20905b815481529060010190602001808311610ad657829003601f168201915b505050505081525050838381518110610b0f57610b0e611a2c565b5b60200260200101819052508180610b2590611a86565b9250505b8080600101915050610959565b5081945050505050919050565b5f600383604051610b5491906117aa565b90815260200160405180910390208054610b6d9061162f565b905014610baf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ba690611b17565b60405180910390fd5b80600383604051610bc091906117aa565b90815260200160405180910390209081610bda919061195d565b505050565b60605f600383604051610bf291906117aa565b90815260200160405180910390208054610c0b9061162f565b905003610c4d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c4490611b7f565b60405180910390fd5b600382604051610c5d91906117aa565b90815260200160405180910390208054610c769061162f565b80601f0160208091040260200160405190810160405280929190818152602001828054610ca29061162f565b8015610ced5780601f10610cc457610100808354040283529160200191610ced565b820191905f5260205f20905b815481529060010190602001808311610cd057829003601f168201915b50505050509050919050565b60605f600283604051610d0c91906117aa565b9081526020016040518091039020905080805480602002602001604051908101604052809291908181526020015f905b82821015610e05578382905f5260205f2090600202016040518060400160405290815f82018054610d6c9061162f565b80601f0160208091040260200160405190810160405280929190818152602001828054610d989061162f565b8015610de35780601f10610dba57610100808354040283529160200191610de3565b820191905f5260205f20905b815481529060010190602001808311610dc657829003601f168201915b5050505050815260200160018201548152505081526020019060010190610d3c565b50505050915050919050565b6040518060600160405280606081526020015f15158152602001606081525090565b5f604051905090565b5f80fd5b5f80fd5b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b610e9282610e4c565b810181811067ffffffffffffffff82111715610eb157610eb0610e5c565b5b80604052505050565b5f610ec3610e33565b9050610ecf8282610e89565b919050565b5f67ffffffffffffffff821115610eee57610eed610e5c565b5b610ef782610e4c565b9050602081019050919050565b828183375f83830152505050565b5f610f24610f1f84610ed4565b610eba565b905082815260208101848484011115610f4057610f3f610e48565b5b610f4b848285610f04565b509392505050565b5f82601f830112610f6757610f66610e44565b5b8135610f77848260208601610f12565b91505092915050565b5f60208284031215610f9557610f94610e3c565b5b5f82013567ffffffffffffffff811115610fb257610fb1610e40565b5b610fbe84828501610f53565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f5b83811015610ffe578082015181840152602081019050610fe3565b5f8484015250505050565b5f61101382610fc7565b61101d8185610fd1565b935061102d818560208601610fe1565b61103681610e4c565b840191505092915050565b5f6020820190508181035f8301526110598184611009565b905092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61108a82611061565b9050919050565b61109a81611080565b82525050565b5f6020820190506110b35f830184611091565b92915050565b5f805f606084860312156110d0576110cf610e3c565b5b5f84013567ffffffffffffffff8111156110ed576110ec610e40565b5b6110f986828701610f53565b935050602084013567ffffffffffffffff81111561111a57611119610e40565b5b61112686828701610f53565b925050604084013567ffffffffffffffff81111561114757611146610e40565b5b61115386828701610f53565b9150509250925092565b5f819050919050565b61116f8161115d565b8114611179575f80fd5b50565b5f8135905061118a81611166565b92915050565b5f80604083850312156111a6576111a5610e3c565b5b5f83013567ffffffffffffffff8111156111c3576111c2610e40565b5b6111cf85828601610f53565b92505060206111e08582860161117c565b9150509250929050565b6111f38161115d565b82525050565b5f6040820190508181035f8301526112118185611009565b905061122060208301846111ea565b9392505050565b5f805f6060848603121561123e5761123d610e3c565b5b5f84013567ffffffffffffffff81111561125b5761125a610e40565b5b61126786828701610f53565b935050602084013567ffffffffffffffff81111561128857611287610e40565b5b61129486828701610f53565b92505060406112a58682870161117c565b9150509250925092565b5f80604083850312156112c5576112c4610e3c565b5b5f83013567ffffffffffffffff8111156112e2576112e1610e40565b5b6112ee85828601610f53565b925050602083013567ffffffffffffffff81111561130f5761130e610e40565b5b61131b85828601610f53565b9150509250929050565b5f8115159050919050565b61133981611325565b82525050565b5f6020820190506113525f830184611330565b92915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f82825260208201905092915050565b5f61139b82610fc7565b6113a58185611381565b93506113b5818560208601610fe1565b6113be81610e4c565b840191505092915050565b6113d281611325565b82525050565b5f606083015f8301518482035f8601526113f28282611391565b915050602083015161140760208601826113c9565b506040830151848203604086015261141f8282611391565b9150508091505092915050565b5f61143783836113d8565b905092915050565b5f602082019050919050565b5f61145582611358565b61145f8185611362565b93508360208202850161147185611372565b805f5b858110156114ac578484038952815161148d858261142c565b94506114988361143f565b925060208a01995050600181019050611474565b50829750879550505050505092915050565b5f6020820190508181035f8301526114d6818461144b565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b6115108161115d565b82525050565b5f604083015f8301518482035f8601526115308282611391565b91505060208301516115456020860182611507565b508091505092915050565b5f61155b8383611516565b905092915050565b5f602082019050919050565b5f611579826114de565b61158381856114e8565b935083602082028501611595856114f8565b805f5b858110156115d057848403895281516115b18582611550565b94506115bc83611563565b925060208a01995050600181019050611598565b50829750879550505050505092915050565b5f6020820190508181035f8301526115fa818461156f565b905092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061164657607f821691505b60208210810361165957611658611602565b5b50919050565b5f6040820190508181035f8301526116778185611009565b90506116866020830184611091565b9392505050565b61169681611325565b81146116a0575f80fd5b50565b5f815190506116b18161168d565b92915050565b5f602082840312156116cc576116cb610e3c565b5b5f6116d9848285016116a3565b91505092915050565b7f43616c6c6572206973206e6f7420617574686f72697a656420746f20616363655f8201527f737320746865736520766572696669636174696f6e2072657175657374730000602082015250565b5f61173c603e83610fd1565b9150611747826116e2565b604082019050919050565b5f6020820190508181035f83015261176981611730565b9050919050565b5f81905092915050565b5f61178482610fc7565b61178e8185611770565b935061179e818560208601610fe1565b80840191505092915050565b5f6117b5828461177a565b915081905092915050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261181c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826117e1565b61182686836117e1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f61186161185c6118578461115d565b61183e565b61115d565b9050919050565b5f819050919050565b61187a83611847565b61188e61188682611868565b8484546117ed565b825550505050565b5f90565b6118a2611896565b6118ad818484611871565b505050565b5b818110156118d0576118c55f8261189a565b6001810190506118b3565b5050565b601f821115611915576118e6816117c0565b6118ef846117d2565b810160208510156118fe578190505b61191261190a856117d2565b8301826118b2565b50505b505050565b5f82821c905092915050565b5f6119355f198460080261191a565b1980831691505092915050565b5f61194d8383611926565b9150826002028217905092915050565b61196682610fc7565b67ffffffffffffffff81111561197f5761197e610e5c565b5b611989825461162f565b6119948282856118d4565b5f60209050601f8311600181146119c5575f84156119b3578287015190505b6119bd8582611942565b865550611a24565b601f1984166119d3866117c0565b5f5b828110156119fa578489015182556001820191506020850194506020810190506119d5565b86831015611a175784890151611a13601f891682611926565b8355505b6001600288020188555050505b505050505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f611a908261115d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611ac257611ac1611a59565b5b600182019050919050565b7f494420416c72656164792050726573656e7400000000000000000000000000005f82015250565b5f611b01601283610fd1565b9150611b0c82611acd565b602082019050919050565b5f6020820190508181035f830152611b2e81611af5565b9050919050565b7f43616e742046696e6420536368656d61000000000000000000000000000000005f82015250565b5f611b69601083610fd1565b9150611b7482611b35565b602082019050919050565b5f6020820190508181035f830152611b9681611b5d565b905091905056fea2646970667358221220b48e744de39fc1a6f801d586005b439daa09daaa901eb10eb19ec9dee8d3af1f64736f6c63430008180033"
}