{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_registriesAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "log",
          "type": "string"
        }
      ],
      "name": "Log",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "holderDID",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "verifierDID",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "credentialHash",
          "type": "string"
        }
      ],
      "name": "logConsent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "registries",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "holderDID",
          "type": "string"
        }
      ],
      "name": "returnConsentLogs",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "credentialHash",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "verifierDID",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "isConsentActive",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct AccessControl.ConsentLog[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "credentialHash",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "holderDID",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "verifierDID",
          "type": "string"
        }
      ],
      "name": "revokeConsent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "608060405234801562000010575f80fd5b50604051620014e7380380620014e7833981810160405281019062000036919062000140565b805f806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505062000170565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6200010a82620000df565b9050919050565b6200011c81620000fe565b811462000127575f80fd5b50565b5f815190506200013a8162000111565b92915050565b5f60208284031215620001585762000157620000db565b5b5f62000167848285016200012a565b91505092915050565b611369806200017e5f395ff3fe608060405234801561000f575f80fd5b506004361061004a575f3560e01c80631b176dc21461004e578063206eba5d1461007e5780635397a1821461009c578063f93eefc3146100b8575b5f80fd5b61006860048036038101906100639190610995565b6100d4565b6040516100759190610baa565b60405180910390f35b610086610370565b6040516100939190610c09565b60405180910390f35b6100b660048036038101906100b19190610c22565b610393565b005b6100d260048036038101906100cd9190610c22565b610672565b005b606060015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bde1eee783336040518363ffffffff1660e01b8152600401610132929190610d0e565b602060405180830381865afa15801561014d573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906101719190610d66565b6101b0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101a790610e01565b60405180910390fd5b5f6002836040516101c19190610e59565b9081526020016040518091039020805480602002602001604051908101604052809291908181526020015f905b82821015610361578382905f5260205f2090600402016040518060800160405290815f8201805461021e90610e9c565b80601f016020809104026020016040519081016040528092919081815260200182805461024a90610e9c565b80156102955780601f1061026c57610100808354040283529160200191610295565b820191905f5260205f20905b81548152906001019060200180831161027857829003601f168201915b505050505081526020016001820180546102ae90610e9c565b80601f01602080910402602001604051908101604052809291908181526020018280546102da90610e9c565b80156103255780601f106102fc57610100808354040283529160200191610325565b820191905f5260205f20905b81548152906001019060200180831161030857829003601f168201915b50505050508152602001600282015f9054906101000a900460ff16151515158152602001600382015481525050815260200190600101906101ee565b50505050905080915050919050565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bde1eee783336040518363ffffffff1660e01b81526004016103ef929190610d0e565b602060405180830381865afa15801561040a573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061042e9190610d66565b61046d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161046490610e01565b60405180910390fd5b5f60028360405161047e9190610e59565b908152602001604051809103902090505f5b818054905081101561063157846040516020016104ad9190610e59565b604051602081830303815290604052805190602001208282815481106104d6576104d5610ecc565b5b905f5260205f2090600402015f016040516020016104f49190610f8b565b604051602081830303815290604052805190602001201480156105835750826040516020016105239190610e59565b6040516020818303038152906040528051906020012082828154811061054c5761054b610ecc565b5b905f5260205f20906004020160010160405160200161056b9190610f8b565b60405160208183030381529060405280519060200120145b15610624575f82828154811061059c5761059b610ecc565b5b905f5260205f2090600402016002015f6101000a81548160ff021916908315150217905550428282815481106105d5576105d4610ecc565b5b905f5260205f209060040201600301819055507fcf34ef537ac33ee1ac626ca1587a0a7e8e51561e5514f8cb36afa1c5102b3bab60405161061590610feb565b60405180910390a1505061066d565b8080600101915050610490565b506040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066490611053565b60405180910390fd5b505050565b60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bde1eee784336040518363ffffffff1660e01b81526004016106ce929190610d0e565b602060405180830381865afa1580156106e9573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061070d9190610d66565b61074c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074390610e01565b60405180910390fd5b5f60405180608001604052808381526020018481526020016001151581526020014281525090506002846040516107839190610e59565b908152602001604051809103902081908060018154018082558091505060019003905f5260205f2090600402015f909190919091505f820151815f0190816107cb91906111fc565b5060208201518160010190816107e191906111fc565b506040820151816002015f6101000a81548160ff0219169083151502179055506060820151816003015550507fcf34ef537ac33ee1ac626ca1587a0a7e8e51561e5514f8cb36afa1c5102b3bab60405161083a90611315565b60405180910390a150505050565b5f604051905090565b5f80fd5b5f80fd5b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6108a782610861565b810181811067ffffffffffffffff821117156108c6576108c5610871565b5b80604052505050565b5f6108d8610848565b90506108e4828261089e565b919050565b5f67ffffffffffffffff82111561090357610902610871565b5b61090c82610861565b9050602081019050919050565b828183375f83830152505050565b5f610939610934846108e9565b6108cf565b9050828152602081018484840111156109555761095461085d565b5b610960848285610919565b509392505050565b5f82601f83011261097c5761097b610859565b5b813561098c848260208601610927565b91505092915050565b5f602082840312156109aa576109a9610851565b5b5f82013567ffffffffffffffff8111156109c7576109c6610855565b5b6109d384828501610968565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f81519050919050565b5f82825260208201905092915050565b5f5b83811015610a3c578082015181840152602081019050610a21565b5f8484015250505050565b5f610a5182610a05565b610a5b8185610a0f565b9350610a6b818560208601610a1f565b610a7481610861565b840191505092915050565b5f8115159050919050565b610a9381610a7f565b82525050565b5f819050919050565b610aab81610a99565b82525050565b5f608083015f8301518482035f860152610acb8282610a47565b91505060208301518482036020860152610ae58282610a47565b9150506040830151610afa6040860182610a8a565b506060830151610b0d6060860182610aa2565b508091505092915050565b5f610b238383610ab1565b905092915050565b5f602082019050919050565b5f610b41826109dc565b610b4b81856109e6565b935083602082028501610b5d856109f6565b805f5b85811015610b985784840389528151610b798582610b18565b9450610b8483610b2b565b925060208a01995050600181019050610b60565b50829750879550505050505092915050565b5f6020820190508181035f830152610bc28184610b37565b905092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610bf382610bca565b9050919050565b610c0381610be9565b82525050565b5f602082019050610c1c5f830184610bfa565b92915050565b5f805f60608486031215610c3957610c38610851565b5b5f84013567ffffffffffffffff811115610c5657610c55610855565b5b610c6286828701610968565b935050602084013567ffffffffffffffff811115610c8357610c82610855565b5b610c8f86828701610968565b925050604084013567ffffffffffffffff811115610cb057610caf610855565b5b610cbc86828701610968565b9150509250925092565b5f82825260208201905092915050565b5f610ce082610a05565b610cea8185610cc6565b9350610cfa818560208601610a1f565b610d0381610861565b840191505092915050565b5f6040820190508181035f830152610d268185610cd6565b9050610d356020830184610bfa565b9392505050565b610d4581610a7f565b8114610d4f575f80fd5b50565b5f81519050610d6081610d3c565b92915050565b5f60208284031215610d7b57610d7a610851565b5b5f610d8884828501610d52565b91505092915050565b7f43616c6c6572206973206e6f7420617574686f72697a656420746f20616363655f8201527f737320746865736520766572696669636174696f6e2072657175657374730000602082015250565b5f610deb603e83610cc6565b9150610df682610d91565b604082019050919050565b5f6020820190508181035f830152610e1881610ddf565b9050919050565b5f81905092915050565b5f610e3382610a05565b610e3d8185610e1f565b9350610e4d818560208601610a1f565b80840191505092915050565b5f610e648284610e29565b915081905092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680610eb357607f821691505b602082108103610ec657610ec5610e6f565b5b50919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f819050815f5260205f209050919050565b5f8154610f1781610e9c565b610f218186610e1f565b9450600182165f8114610f3b5760018114610f5057610f82565b60ff1983168652811515820286019350610f82565b610f5985610ef9565b5f5b83811015610f7a57815481890152600182019150602081019050610f5b565b838801955050505b50505092915050565b5f610f968284610f0b565b915081905092915050565b7f5375636365737366756c6c79207265766f6b656420636f6e73656e74206c6f675f82015250565b5f610fd5602083610cc6565b9150610fe082610fa1565b602082019050919050565b5f6020820190508181035f83015261100281610fc9565b9050919050565b7f4163636573732f436f6e73656e74204c6f67206e6f7420666f756e64000000005f82015250565b5f61103d601c83610cc6565b915061104882611009565b602082019050919050565b5f6020820190508181035f83015261106a81611031565b9050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026110bb7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82611080565b6110c58683611080565b95508019841693508086168417925050509392505050565b5f819050919050565b5f6111006110fb6110f684610a99565b6110dd565b610a99565b9050919050565b5f819050919050565b611119836110e6565b61112d61112582611107565b84845461108c565b825550505050565b5f90565b611141611135565b61114c818484611110565b505050565b5b8181101561116f576111645f82611139565b600181019050611152565b5050565b601f8211156111b45761118581610ef9565b61118e84611071565b8101602085101561119d578190505b6111b16111a985611071565b830182611151565b50505b505050565b5f82821c905092915050565b5f6111d45f19846008026111b9565b1980831691505092915050565b5f6111ec83836111c5565b9150826002028217905092915050565b61120582610a05565b67ffffffffffffffff81111561121e5761121d610871565b5b6112288254610e9c565b611233828285611173565b5f60209050601f831160018114611264575f8415611252578287015190505b61125c85826111e1565b8655506112c3565b601f19841661127286610ef9565b5f5b8281101561129957848901518255600182019150602085019450602081019050611274565b868310156112b657848901516112b2601f8916826111c5565b8355505b6001600288020188555050505b505050505050565b7f5375636365737366756c6c7920616464656420636f6e73656e74206c6f6700005f82015250565b5f6112ff601e83610cc6565b915061130a826112cb565b602082019050919050565b5f6020820190508181035f83015261132c816112f3565b905091905056fea2646970667358221220c1fba2d85a4cd0e3e57f744fa4adafe94f79637d078b3af450e6da4e1e0db21664736f6c63430008180033"
}